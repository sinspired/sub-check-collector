# V2Ray è®¢é˜…é“¾æ¥è‡ªåŠ¨æ”¶é›†ä¸æ›´æ–°å™¨ - å®Œæ•´åŠŸèƒ½è¯´æ˜

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

æœ¬ç¨‹åºå®ç°äº†ä» GitHub è‡ªåŠ¨æœç´¢ã€æ”¶é›† V2Ray/Clash è®¢é˜…é“¾æ¥,å¹¶è‡ªåŠ¨æ›´æ–°åˆ° `config.yaml` é…ç½®æ–‡ä»¶çš„å®Œæ•´æµç¨‹ã€‚

## ğŸ“‹ å·¥ä½œæµç¨‹

```
GitHub æœç´¢ â†’ README è§£æ â†’ é“¾æ¥æå– â†’ å»é‡åˆ†ç±» â†’ åŒé‡è¾“å‡º
                                                    â†“
                                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                          â†“                   â†“
                                   Markdown æ–‡ä»¶        config.yaml
                                (å®Œæ•´æ±‡æ€»+ç»Ÿè®¡)        (sub-urls éƒ¨åˆ†)
```

## ğŸ”„ è¯¦ç»†æ­¥éª¤

### 1. æœç´¢é˜¶æ®µ

- ä½¿ç”¨å…³é”®å­— `free v2ray` æœç´¢ GitHub ä»“åº“
- é»˜è®¤æœç´¢æœ€æ–°æ›´æ–°çš„ 30 ä¸ªä»“åº“
- æ”¯æŒ GitHub Token ä»¥æé«˜ API é™åˆ¶

### 2. è§£æé˜¶æ®µ

- è‡ªåŠ¨è¯»å–æ¯ä¸ªä»“åº“çš„ README æ–‡ä»¶
- ä½¿ç”¨å¤šç§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è®¢é˜…é“¾æ¥
- æ™ºèƒ½è¯†åˆ«é“¾æ¥ç±»å‹(V2Ray/Clash/Shadowsocks)

### 3. å¤„ç†é˜¶æ®µ

- è‡ªåŠ¨å»é‡(åŸºäº URL)
- æŒ‰ç±»å‹åˆ†ç±»æ•´ç†
- è®°å½•æ¥æºå’Œå‘ç°æ—¶é—´

### 4. è¾“å‡ºé˜¶æ®µ

#### è¾“å‡º 1: Markdown æ–‡ä»¶ (`output/subscriptions.md`)

- ğŸ“Š ç»Ÿè®¡ä¿¡æ¯(æ€»æ•°ã€åˆ†ç±»ç»Ÿè®¡)
- ğŸ—‚ï¸ æŒ‰ç±»å‹åˆ†ç»„çš„è¯¦ç»†é“¾æ¥
- ğŸ“ æ¯ä¸ªé“¾æ¥çš„å…ƒæ•°æ®(æ¥æºã€æè¿°ã€æ—¶é—´)
- ğŸ“ çº¯é“¾æ¥åˆ—è¡¨(æ–¹ä¾¿å¤åˆ¶)

#### è¾“å‡º 2: config.yaml è‡ªåŠ¨æ›´æ–°

- ğŸ’¾ **è‡ªåŠ¨å¤‡ä»½**: æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶(å¸¦æ—¶é—´æˆ³)
- ğŸ”„ **æ™ºèƒ½åˆå¹¶**: ä¿ç•™åŸæœ‰é“¾æ¥,æ·»åŠ æ–°é“¾æ¥
- ğŸ“ **ä¿ç•™æ³¨é‡Š**: ä¸ç ´å YAML æ–‡ä»¶çš„æ³¨é‡Šå’Œæ ¼å¼
- âœ… **å»é‡å¤„ç†**: è‡ªåŠ¨è¿‡æ»¤é‡å¤é“¾æ¥

## ğŸ“Š æµ‹è¯•ç»“æœ

æœ€è¿‘ä¸€æ¬¡è¿è¡Œç»“æœ:

```bash
âœ… æ”¶é›†åˆ° 238 ä¸ªè®¢é˜…é“¾æ¥
âœ… config.yaml ä» 22 ä¸ªé“¾æ¥å¢åŠ åˆ° 257 ä¸ªé“¾æ¥
âœ… è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶: config.yaml.backup.1762489296777
âœ… è€—æ—¶: 0.54 ç§’
```

## ğŸ¨ ç‰¹è‰²åŠŸèƒ½

### 1. æ™ºèƒ½é“¾æ¥è¿‡æ»¤

åªä¿ç•™æœ‰æ•ˆçš„è®¢é˜…é“¾æ¥:

- `raw.githubusercontent.com` é“¾æ¥
- `gist.githubusercontent.com` é“¾æ¥
- åŒ…å« `.txt`, `.yaml`, `.yml` ç­‰è®¢é˜…æ ¼å¼çš„é“¾æ¥
- åŒ…å« `sub`, `subscription` å…³é”®å­—çš„é“¾æ¥

### 2. ç±»å‹æ™ºèƒ½è¯†åˆ«

æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨è¯†åˆ«:

- **V2Ray**: åŒ…å« v2ray, vmess, vless, trojan å…³é”®å­—
- **Clash**: åŒ…å« clash, clash.yaml å…³é”®å­—
- **Shadowsocks**: åŒ…å« shadowsocks, ss, ssr å…³é”®å­—
- **è®¢é˜…é“¾æ¥**: åŒ…å«è®¢é˜…ã€subscriptionã€sub å…³é”®å­—

### 3. å¢é‡æ›´æ–°

- ä¿ç•™å†å²æ”¶é›†çš„é“¾æ¥
- æ¯æ¬¡è¿è¡Œåªæ·»åŠ æ–°å‘ç°çš„é“¾æ¥
- ä¸ä¼šåˆ é™¤å·²æœ‰çš„æœ‰æ•ˆé“¾æ¥

### 4. å®‰å…¨å¤‡ä»½

- æ¯æ¬¡æ›´æ–° config.yaml å‰è‡ªåŠ¨å¤‡ä»½
- å¤‡ä»½æ–‡ä»¶åå¸¦æ—¶é—´æˆ³: `config.yaml.backup.{timestamp}`
- å¯éšæ—¶æ¢å¤åˆ°ä¹‹å‰çš„ç‰ˆæœ¬

## âš™ï¸ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡é…ç½® (`.env`)

```env
# GitHub Token (å¯é€‰,ä½†æ¨è)
GITHUB_TOKEN=your_github_token_here

# æœç´¢å…³é”®å­— (é€—å·åˆ†éš”)
SEARCH_KEYWORDS=free,v2ray

# å®šæ—¶æ‰§è¡Œè§„åˆ™ (cron è¡¨è¾¾å¼)
SCHEDULE_INTERVAL=0 2 * * *

# Markdown è¾“å‡ºæ–‡ä»¶è·¯å¾„
OUTPUT_FILE=./output/subscriptions.md

# æœ€å¤§æœç´¢ä»“åº“æ•°
MAX_REPOSITORIES=30

# config.yaml æ–‡ä»¶è·¯å¾„ (ç•™ç©ºåˆ™ä¸æ›´æ–° YAML)
CONFIG_YAML_PATH=./config.yaml
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### ç«‹å³æ‰§è¡Œä¸€æ¬¡

```bash
npm run once
```

### å¯åŠ¨å®šæ—¶ä»»åŠ¡(æ¯å¤©å‡Œæ™¨ 2 ç‚¹)

```bash
npm start
```

### å¯åŠ¨å®šæ—¶ä»»åŠ¡å¹¶ç«‹å³æ‰§è¡Œä¸€æ¬¡

```bash
npm start -- --run-now
```

## ğŸ“ˆ æ€§èƒ½ç‰¹ç‚¹

- âš¡ **é«˜æ•ˆ**: å•æ¬¡è¿è¡Œçº¦ 40-60 ç§’(å–å†³äºç½‘ç»œ)
- ğŸ”’ **å®‰å…¨**: è‡ªåŠ¨å¤‡ä»½,ä¸ä¼šä¸¢å¤±æ•°æ®
- ğŸ’¾ **èŠ‚çœ**: å¢é‡æ›´æ–°,é¿å…é‡å¤ä¸‹è½½
- ğŸ¯ **ç²¾å‡†**: å¤šç§è¿‡æ»¤è§„åˆ™,ç¡®ä¿é“¾æ¥è´¨é‡

## ğŸ›¡ï¸ å®‰å…¨æªæ–½

1. **è‡ªåŠ¨å¤‡ä»½**: æ¯æ¬¡æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½é…ç½®æ–‡ä»¶
2. **é”™è¯¯å¤„ç†**: é‡åˆ°é”™è¯¯ä¸ä¸­æ–­æ•´ä½“æµç¨‹
3. **é€Ÿç‡æ§åˆ¶**: è‡ªåŠ¨å»¶è¿Ÿé¿å…è§¦å‘ GitHub API é™åˆ¶
4. **æ ¼å¼ä¿æŠ¤**: ä¸ç ´å YAML æ–‡ä»¶çš„åŸæœ‰æ ¼å¼å’Œæ³¨é‡Š

## ğŸ“ è¾“å‡ºç¤ºä¾‹

### Markdown æ–‡ä»¶ç¤ºä¾‹

```markdown
# V2Ray/Clash è®¢é˜…é“¾æ¥æ±‡æ€»

> æœ€åæ›´æ–°: 2025/11/7 12:13:53
> æ€»è®¡: 238 ä¸ªé“¾æ¥

## ğŸ“Š ç»Ÿè®¡
- V2Ray: 163 ä¸ª
- Clash: 29 ä¸ª
- Shadowsocks: 6 ä¸ª

## V2Ray

### hello-world-1989/cn-news
**é“¾æ¥:** https://raw.githubusercontent.com/hello-world-1989/cn-news/main/end-gfw-together
*å‘ç°æ—¶é—´: 2025/11/7 12:13:52*
```

### config.yaml æ›´æ–°ç¤ºä¾‹

```yaml
sub-urls:
  - "https://raw.githubusercontent.com/hello-world-1989/cn-news/main/end-gfw-together"
  - "https://raw.githubusercontent.com/barry-far/V2ray-Config/main/Sub1.txt"
  # ... æ›´å¤šé“¾æ¥
```

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜: GitHub API é™åˆ¶

**è§£å†³**: é…ç½® `GITHUB_TOKEN` ç¯å¢ƒå˜é‡

### é—®é¢˜: ä¸æƒ³æ›´æ–° config.yaml

**è§£å†³**: åœ¨ `.env` ä¸­è®¾ç½® `CONFIG_YAML_PATH=`

### é—®é¢˜: éœ€è¦æ¢å¤æ—§é…ç½®

**è§£å†³**: ä½¿ç”¨å¤‡ä»½æ–‡ä»¶ `config.yaml.backup.*`

## ğŸ“š æŠ€æœ¯æ¶æ„

- **è¯­è¨€**: TypeScript + Node.js
- **æ ¸å¿ƒåº“**:
  - `@octokit/rest` - GitHub API å®¢æˆ·ç«¯
  - `js-yaml` - YAML è§£æå’Œåºåˆ—åŒ–
  - `node-schedule` - å®šæ—¶ä»»åŠ¡è°ƒåº¦
- **è®¾è®¡æ¨¡å¼**: å•ä¸€èŒè´£ã€ä¾èµ–æ³¨å…¥ã€æ¥å£éš”ç¦»

## ğŸ‰ æ€»ç»“

è¿™ä¸ªå·¥å…·å®Œå…¨è‡ªåŠ¨åŒ–äº†è®¢é˜…é“¾æ¥çš„æ”¶é›†å’Œç®¡ç†æµç¨‹:

1. âœ… è‡ªåŠ¨æœç´¢æœ€æ–°çš„ GitHub ä»“åº“
2. âœ… æ™ºèƒ½æå–æœ‰æ•ˆçš„è®¢é˜…é“¾æ¥
3. âœ… è‡ªåŠ¨å»é‡å’Œåˆ†ç±»æ•´ç†
4. âœ… ç”Ÿæˆè¯¦ç»†çš„ Markdown æŠ¥å‘Š
5. âœ… **è‡ªåŠ¨æ›´æ–° config.yaml çš„ sub-urls éƒ¨åˆ†**
6. âœ… æ”¯æŒå®šæ—¶æ‰§è¡Œ,æ— éœ€äººå·¥å¹²é¢„

ä¸€æ¬¡é…ç½®,æ°¸ä¹…å—ç›Š!ğŸš€
